---
draft: fale
emoji: ğŸš™
title: é–‹ç™ºæ—¥è¨˜-2024-07-27 / monorepoã§ãƒ«ãƒ¼ãƒˆã®.envã‚’å…±æœ‰ã™ã‚‹
slug: diary-2024-07-27
published_at: 2024-07-27 11:17:09
modified_at: 2024-07-27 11:17:09
tags:
  - npm
  - dotenv-cli
preview: null
type: default
---

## monorepoã§ãƒ«ãƒ¼ãƒˆã®.envã‚’å…±æœ‰ã™ã‚‹

```text
.
â”œâ”€â”€ packages
â”‚   â”œâ”€â”€ package1
â”‚   â””â”€â”€ package2
â”œâ”€â”€ apps
â”‚   â””â”€â”€ next
â”‚      â”œâ”€â”€ src
â”‚      â””â”€â”€ package.json
â””â”€â”€ .env
```

ä¸Šè¨˜ã®ã‚ˆã†ãªæ§‹æˆã® `./apps/next` ã®Next.jsã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’ `pnpm dev` ã§èµ·å‹•ã—ãŸå ´åˆã«ã€`.env` ã®ç’°å¢ƒå¤‰æ•°ã‚’å‚ç…§ï¼ˆ`process.env.XXXX`ï¼‰ã—ãŸã„å ´åˆã®æ–¹æ³•ã€‚stackoverflowã«ç­”ãˆãŒã‚ã£ãŸã€‚

::link-card[https://stackoverflow.com/questions/75058474/how-to-use-both-root-and-app-level-env-files-with-turborepo]

ä»¥ä¸‹ã¯ã‚³ãƒãƒ³ãƒ‰ã¨package.jsonã®ä¿®æ­£å†…å®¹ãƒ¡ãƒ¢ã€‚

```sh:Terminal
pnpm add -w -D -E dotenv-cli
```

```json:apps/next/package.json
{
  "scripts": {
    "dev": "pnpm with-env next dev",
    "with-env": "dotenv -e ../../.env --"
  },
}
```
