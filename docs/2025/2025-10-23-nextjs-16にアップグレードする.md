---
draft: false
emoji: ğŸš©
title: Next.js 16ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹
slug: upgrade-to-next-js-16
published_at: 2025-10-23 20:48:04
modified_at: 2025-10-27 21:26:08
tags:
  - Next.js
preview: null
---

## ç°¡æ˜“æ‰‹é †

```sh:Terminal
npx @next/codemod@canary upgrade latest
```

## ES Lint ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°

`FlatCompat` ã‚’ä½¿ã‚ãªããªã£ã¦ã„ã‚‹ã®ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹ã€‚

```ts:eslint.config.mjs
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    // Default ignores of eslint-config-next:
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
]);

export default eslintConfig;
```

## `'use cache'` ã‚’ä½¿ã†ãŸã‚ã®è¨­å®š

```ts:next.config.ts
// ...
const nextConfig: NextConfig = {
  // ...
  cacheComponents: true,
  // ...
}
// ...
```

## React Compiler ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹

ä»¥ä¸‹ã®å¯¾å¿œãŒå¿…è¦ã€‚

- `babel-plugin-react-compiler` ã®è¿½åŠ 
- `next.config.ts` ã«è¨­å®šã®è¿½åŠ 

```sh:Terminal
pnpm add -E -D babel-plugin-react-compiler
```

```ts:next.config.ts
// ...
const nextConfig: NextConfig = {
  // ...
  reactCompiler: true,
  // ...
}
// ...
```

## middleware to proxy

`middleware.ts` ã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ `proxy.ts` ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

::link-card[https://nextjs.org/docs/messages/middleware-to-proxy]

## ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯

::link-card[https://nextjs.org/docs/app/guides/upgrading/version-16]
