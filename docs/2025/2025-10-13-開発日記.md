---
draft: false
emoji: ğŸ˜™
title: é–‹ç™ºæ—¥è¨˜ / Next.js ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ãƒ‡ãƒãƒƒã‚°ã®è¦šæ›¸
slug: diary-2025-10-13
published_at: 2025-10-13 14:25:34
modified_at: 2025-10-14 00:27:58
tags: []
preview: null
---

## Next.js ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ãƒ‡ãƒãƒƒã‚°ã®è¦šæ›¸

- Unbound breakpointã«ãªã£ãŸæ™‚ã¯ `tsconfig.ts` ã® `souceMap` ã‚’ `true` ã«ã—ã¦ã¿ã‚‹
  - `false` ã§ã‚‚ã„ã‘ãã†
- `"dev:debug": "NODE_OPTIONS='--inspect=0.0.0.0:9229' next dev",`
  - dockerã®å ´åˆã¯ä¸Šè¨˜ã®ã‚ˆã†ã«è¨­å®šã™ã‚‹

::link-card[https://zenn.dev/miroscular/articles/3d2ac64cb878b8]

::link-card[https://github.com/vercel/next.js/discussions/78434]

### Docker & Dev Container ã® launch.json

- `address` ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«å‘ã‘ãªã„ã¨ã„ã‘ãªã„ã€‚localhostã§ã¯ç¹‹ãŒã‚‰ãªã„
- `remoteRoot` ã‚’æ­£ã—ãè¨­å®šã™ã‚‹
- `port` ã¯ 9230ã€‚Next.jsã®å ´åˆã¯9229ã§ã¯ãªã„

```json:launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "attach",
      "name": "Next.js Server",
      "address": "app", // [!code highlight]
      "port": 9230, // [!code highlight]
      "sourceMaps": true,
      "skipFiles": ["<node_internals>/**"],
      "resolveSourceMapLocations": ["${workspaceFolder}/**", "!**/node_modules/**", "!**/.next/**"],
      "autoAttachChildProcesses": false, // [!code highlight]
      "restart": true,
      "localRoot": "${workspaceFolder}",
      "remoteRoot": "/path/to/remote" // [!code highlight]
    },
    {
      "type": "chrome",
      "request": "launch",
      "name": "Next.js Client",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}"
    }
  ]
}
```

## Next.jsã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã¤ã„ã¦

```ts:page.tsx
export const dynamicParams = true // ã“ã‚Œã¯ä¸è¦ã‹ã‚‚
export const revalidate = 60
export const dynamic = 'force-static'

export default async function HomePage() {
  // ...
}
```

ã“ã®ã‚ˆã†ã«è¨­å®šã™ã‚‹ã¨ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ãŒã€next/linkã®Linkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ `prefetch={false}` ã¨ã—ã¦ã„ã‚‹ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ›´æ–°ã•ã‚Œãªã„ï¼ˆæ›´æ–°ãŒé »åº¦ãŒè½ã¡ã‚‹ï¼Ÿï¼‰ã€‚
