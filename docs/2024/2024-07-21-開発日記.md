---
draft: false
emoji: ğŸ›¼
title: é–‹ç™ºæ—¥è¨˜-2024-07-21 / Rubyã®ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°é–¢é€£ã®èª¿æŸ»
slug: diary-2024-07-21
published_at: 2024-07-21 14:06:00
modified_at: 2024-07-21 14:06:00
tags:
  - é–‹ç™ºæ—¥è¨˜
  - Ruby
  - tocbot
preview: null
type: default
---

## Rubyã®URI must be ascii only

`URI.parse` ã§ã¯ `URI must be ascii only` ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã—ã¾ã†ã€‚ãªã®ã§ã€`Addressable::URI.parse` ã‚’ä½¿ã†ã€‚

::link-card[https://qiita.com/dogwood008/items/923e3b7280af902c292e]

## mechanize

mechanizeã§ `"\xE3" from ASCII-8BIT to UTF-8` ã®ã‚ˆã†ãªæ–‡å­—ã‚³ãƒ¼ãƒ‰é–¢é€£ã®ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸå ´åˆã€‚

```ruby
agent.page.body.encode(Encoding::Windows_31J, Encoding::UTF_8, undef: :replace)
```

::link-card[https://fwl.hateblo.jp/entry/2013/09/14/003941]

::link-card[https://github.com/sparklemotion/mechanize]

## devcontainerã®zshã‚’ç°¡å˜ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹æ–¹æ³•ã‚’èª¿ã¹ã¦ã„ã‚‹

ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‚’preztoã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã„ã‚‹ã®ã§ã€devcontainerã®zshã‚‚åŒã˜ã‚ˆã†ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ãŸã‚ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã£ã¦ä½¿ã„å›ã—ã¦ã„ã‚‹ã®ã ãŒã€ã‚‚ã£ã¨ã‚¹ãƒãƒ¼ãƒˆãªæ–¹æ³•ã¯ãªã„ã®ã‹èª¿ã¹ã¦ã„ã‚‹ã€‚

::link-card[https://medium.com/@jamiekt/vscode-devcontainer-with-zsh-oh-my-zsh-and-agnoster-theme-8adf884ad9f6]

::link-card[https://engineering.monstar-lab.com/jp/post/2023/07/10/Comfortable-development-environment-for-Connect-go/]

## NextUIã®Scroll Shadowã¨tocbotã®ãƒã‚°

NextUIã®[Scroll Shadow](https://nextui.org/docs/components/scroll-shadow)ã¨[tocbot](https://tscanlin.github.io/tocbot/)ã‚’åˆã‚ã›ã¦ä½¿ã£ã¦ã„ã‚‹ã®ã ãŒã€ç›®æ¬¡ã®é …ç›®ãŒé•·ããªã‚‹ã¨æœ€ä¸‹éƒ¨ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã‚‚ä¸‹éƒ¨ã®Scroll Shadowã®å½±ãŒæ¶ˆãˆãªã„ã€‚

- ç›®æ¬¡éƒ¨åˆ†ã®é«˜ã•ã‚’åŠåˆ†ãã‚‰ã„ã«ã™ã‚‹ã¨æ­£å¸¸ã«æ¶ˆãˆã‚‹ã‚ˆã†ã«ãªã‚‹
- ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ç›®æ¬¡ã«DOMã‚’è¿½åŠ ãƒ»å‰Šé™¤ã™ã‚‹ã¨æ­£å¸¸ã«æ¶ˆãˆã‚‹ã‚ˆã†ã«ãªã‚‹
- tocbotã‚’ä½¿ã‚ãšã«åŒã˜ã‚ˆã†ãªé«˜ã•ã®è¦ç´ ã‚’é™çš„ã«å‡ºåŠ›ã•ã›ã¦ã¿ã‚‹ã¨æ­£å¸¸ã«æ¶ˆãˆã‚‹ã‚ˆã†ã«ãªã‚‹

çµå±€è§£æ±ºç­–ã¯ã‚ã‹ã‚‰ãªã„ã®ã§é€²æ—ã ã‘ãƒ¡ãƒ¢ã—ã¦ãŠãã“ã¨ã«ã—ãŸã€‚

## tocbotã®ä½¿ã„æ–¹ã‚’é–“é•ã£ã¦ã„ãŸ

tocbotã®è¦ªã®divã« `overflow-y: scroll;` ã‚’ã¤ã‘ã¦ã„ã‚‹ã¨ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å´ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«tocbotå´ãŒè¿½å¾“ã—ãªã‹ã£ãŸã€‚

ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å´ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«åˆã‚ã›ã¦ç›®æ¬¡å´ã‚‚ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚

```html
<div class="tocbot-container">
  <div class="tocbot"></div>
</div>
```

```css
.tocbot-container {
  overflow-y: scroll; /* [!code --] */
}
.tocbot {
  overflow-y: scroll; /* [!code ++] */
}
```

## shikiã®diffã®æ›¸ãæ–¹ã¯è¨€èªã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã®é•ã„ã«ã‚ˆã£ã¦å¤‰ã‚ã‚‹

```css:CSSã®å ´åˆ
.tocbot-container {
  overflow-y: scroll; /* [\!code --] */
}
.tocbot {
  overflow-y: scroll; /* [\!code ++] */
}
```

```typescript:TypeScriptã®å ´åˆ
const hello = 'world'; // [\!code --]
const hello = 'new world'; // [\!code ++]
```

ã™ã”ã„ã€‚
