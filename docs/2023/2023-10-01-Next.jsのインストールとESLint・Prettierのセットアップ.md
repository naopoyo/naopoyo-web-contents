---
draft: false
emoji: ğŸ“–
title: Next.jsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ESLintãƒ»Prettierã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
slug: setup-nextjs-eslint-prettier
published_at: 2023-10-01 17:11:23
modified_at: 2025-10-08 20:42:15
tags:
  - Next.js
preview: /assets/2023-10-01-Next.jsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ESLintãƒ»Prettierã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—.webp
---

## ã“ã®è¨˜äº‹ã®æ¦‚è¦

App Routerã‚’ä½¿ç”¨ã™ã‚‹Next.jsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ãã®å¾Œã®é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ã®æ‰‹é †ã‚’è¨˜éŒ²ã—ãŸè¨˜äº‹ã§ã™ã€‚ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é–¢ã‚ã‚‰ãšå…±é€šã—ã¦å¿…è¦ã¨ãªã‚‹ã‚ˆã†ãªå†…å®¹ã‚’ä¸­å¿ƒã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

- ESLintã«ã‚ˆã‚‹ãƒ«ãƒ¼ãƒ«ã®è¨­å®š
- Prettierã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãŸã‚ã®è¨­å®š

ã¾ãŸã€CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«Tailwind CSSã‚’ä½¿ç”¨ã—ãŸå†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚ä½¿ç”¨ã—ãªã„å ´åˆã€é©å®œèª­ã¿æ›¿ãˆãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã®ç’°å¢ƒã§ã®ä½œæ¥­ã‚’å…ƒã«ä½œæˆã—ãŸè¨˜äº‹ã§ã™:

- macOS 15.2
- Node 20.15.1
- pnpm 9.10.0
- Next.js 14.2.11
- Tailwind CSS 3.3.3

## Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ

æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§æ–°ã—ã„Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã™ã€‚`my-app` ã®éƒ¨åˆ†ã¯ä»»æ„ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã«å¤‰æ›´ã—ã¾ã™ã€‚

```bash:Terminal
npx create-next-app@latest my-app --ts --tailwind --eslint --app --turbopack --src-dir --import-alias '@/*' --use-pnpm --skip-install
```

ä½œæˆå¾Œã«æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§npmã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash:Terminal
cd my-app
pnpm install
```

## .npmrc ã‚’è¨­ç½®

```text:.npmrc
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
```

pnpm v10ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€ä¸Šè¨˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã—ã¦ã„ãªã„ã¨VSCodeã®ESLintæ‹¡å¼µæ©Ÿèƒ½ãŒã‚¨ãƒ©ãƒ¼ã§å‹•ã‹ãªããªã‚Šã¾ã™ã€‚

::link-card[https://zenn.dev/s_takashi/articles/vscode-pnpm-v10-eslint]

## npm å‘¨è¾ºãƒ„ãƒ¼ãƒ«ã®è¨­å®š

`npm-check-updates` ã‚„ `sort-package-json` ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã›ãšã«ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
`package.json` ã«æ¬¡ã®ã‚ˆã†ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãŠãã“ã¨ã§ã€ç°¡å˜ã«å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```json:package.json
"scripts": {
  "format:package": "pnpm dlx sort-package-json",
  "ncu": "pnpm dlx npm-check-updates"
}
```

ã“ã‚Œã§ã€æ¬¡ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- `pnpm ncu`  
  package.json ã®ä¾å­˜ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’æœ€æ–°ã«æ›¸ãæ›ãˆ
- `pnpm format:package`  
  package.json ã®é …ç›®ã‚’è¦å‰‡çš„ã«ä¸¦ã³æ›¿ãˆ

## ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãŸã‚ã®è¨­å®š

`pnpm format` ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®Typescriptã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«Prettierã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash:Terminal
pnpm add -D -E prettier eslint-config-prettier
```

ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§[Prettier](https://prettier.io/)ã¨[eslint-config-prettier](https://github.com/prettier/eslint-config-prettier)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

ç¶šã‘ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å„ç¨®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ãƒ»ä½œæˆã—ã¦ã„ãã¾ã™ã€‚

### package.jsonã‚’ä¿®æ­£

ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹ã“ã¨ã§ `pnpm format` ã¨å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```json:package.json
"scripts": {
  "lint:fix": "next lint --fix",
  "prettier": "prettier --write --ignore-unknown .",
  "prettier:check": "prettier --check --ignore-unknown .",
  "format": "pnpm prettier && pnpm lint:fix"
}
```

### eslint.config.mjsã€€ã‚’ä¿®æ­£

eslint-config-prettierã‚’ESLintã®è¨­å®šã«è¿½åŠ ã—ã¦æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

```js:eslint.config.mjs
const eslintConfig = [
  // ...
  ...compat.extends("next/core-web-vitals", "next/typescript", "prettier"),
  // ...
];
```

### .prettierrc.yamlã‚’ä½œæˆ

æ¬¡ã®ã‚ˆã†ãªPrettierã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```yaml:.prettierrc.yaml
trailingComma: 'es5'
tabWidth: 2
semi: true
singleQuote: true
jsxSingleQuote: false
arrowParens: 'always'
printWidth: 100
```

### .prettierignoreã‚’ä½œæˆ

Prettierã®é©ç”¨ã‚’é™¤å¤–ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```none:.prettierignore
.vercel
.next
pnpm-lock.yaml
```

### .vscode/settings.jsonã®ä¿®æ­£

VS Codeã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ä¸‹è¨˜ã®ã‚ˆã†ã«è¿½è¨˜ã™ã‚‹ã“ã¨ã§ä¿å­˜æ™‚ã«è‡ªå‹•çš„ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚æ‹¡å¼µæ©Ÿèƒ½ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ã§ã™ï¼ˆå¾Œè¿°ï¼‰ã€‚

```json:.vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "editor.tabSize": 2
}
```

## Typescriptã®importã‚’ç¶ºéº—ã«ã™ã‚‹ãŸã‚ã®è¨­å®š

```bash:Terminal
pnpm add -D -E eslint-plugin-import eslint-plugin-unused-imports
```

ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§ESLintã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚`eslint-plugin-import` ã¨ `eslint-plugin-unused-imports`ã§ã™ã€‚

æ¬¡ã«ã€ä¸‹è¨˜ã®è¨­å®šã‚’ `eslint.config.mjs` ã«è¿½è¨˜ã™ã‚‹ã“ã¨ã§ã€importã‚’ä¸¦ã³æ›¿ãˆãŸã‚Šæœªä½¿ç”¨ã®importã‚’å‰Šé™¤ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```js:eslint.config.mjs
import eslintPluginBetterTailwindcss from 'eslint-plugin-better-tailwindcss'
import eslintPluginImport from 'eslint-plugin-import'
import eslintPluginUnusedImports from 'eslint-plugin-unused-imports'

// ...

const eslintConfig = [
  // ...
  {
    plugins: {
      'better-tailwindcss': eslintPluginBetterTailwindcss,
      import: eslintPluginImport,
      'unused-imports': eslintPluginUnusedImports,
    },
    rules: {
      ...eslintPluginBetterTailwindcss.configs['recommended-error'].rules,
      'better-tailwindcss/no-unregistered-classes': ['error', { detectComponentClasses: true }],
      'unused-imports/no-unused-imports': 'error',
      'import/order': [
        'error',
        {
          groups: [
            'builtin',
            'external',
            'internal',
            ['parent', 'sibling'],
            'object',
            'type',
            'index',
          ],
          'newlines-between': 'always',
          alphabetize: { order: 'asc', caseInsensitive: true },
        },
      ],
    },
    settings: {
      'better-tailwindcss': {
        entryPoint: 'src/styles/globals.css',
      },
    },
  },
  // ...
]
```

## Tailwind CSSã®ãŸã‚ã®ESLintã®è¨­å®š

[eslint-plugin-tailwindcss](https://github.com/francoismassart/eslint-plugin-tailwindcss)ã‚’ä½¿ã£ã¦ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚

- Tailwind CSSã®ã‚¯ãƒ©ã‚¹åã‚’ç‰¹å®šã®é †åºã«è‡ªå‹•çš„ã«ä¸¦ã¹æ›¿ãˆã¾ã™ã€‚
- å­˜åœ¨ã—ãªã„ã€ã¾ãŸã¯é–“é•ã£ãŸTailwind CSSã®ã‚¯ãƒ©ã‚¹åã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ãã‚Œã‚’è‡ªå‹•çš„ã«è­¦å‘Šã¾ãŸã¯ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ¤œå‡ºã—ã¾ã™ã€‚
- é‡è¤‡ã—ã¦ã„ã‚‹ã€ã¾ãŸã¯äº’ã„ã«æ‰“ã¡æ¶ˆã—åˆã†ã‚ˆã†ãªã‚¯ãƒ©ã‚¹åãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ãã‚Œã‚’æ¤œå‡ºã—ã¾ã™ã€‚

### eslint-plugin-tailwindcss ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œå¾Œã€`eslint.config.mjs` ã‚’ç·¨é›†ã—ã¾ã™ã€‚

```bash:Terminal
pnpm add -D -E eslint-plugin-better-tailwindcss
```

```js:eslint.config.mjs
import eslintPluginBetterTailwindcss from 'eslint-plugin-better-tailwindcss'

// ...

const eslintConfig = [
  // ...
  {
    plugins: {
      'better-tailwindcss': eslintPluginBetterTailwindcss,
    },
    rules: {
      ...eslintPluginBetterTailwindcss.configs['recommended-error'].rules,
      'better-tailwindcss/no-unregistered-classes': ['error', { detectComponentClasses: true }],
    },
    settings: {
      'better-tailwindcss': {
        entryPoint: 'src/app/globals.css',
      },
    },
  },
  // ...
]
```

## VS Codeã®æ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

- [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)  
  ESLintã®ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
- [Prettier - Code formatter](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)  
  Prettierã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
- [Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss)  
  Tailwind CSSã®ã‚¯ãƒ©ã‚¹åã®è‡ªå‹•è£œå®Œãªã©ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash:Terminal
code --install-extension dbaeumer.vscode-eslint
code --install-extension esbenp.prettier-vscode
code --install-extension bradlc.vscode-tailwindcss
```
