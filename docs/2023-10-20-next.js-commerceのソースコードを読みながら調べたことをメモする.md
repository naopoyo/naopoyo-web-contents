---
draft: false
emoji: ğŸ›ï¸
title: Next.js Commerceã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿ãªãŒã‚‰èª¿ã¹ãŸã“ã¨ã‚’ãƒ¡ãƒ¢ã™ã‚‹
slug: take-notes-while-reading-the-code-of-nextjs-commerce
published_at: 2023-10-20 00:12:50
modified_at: 2023-10-21 23:15:50
tags:
  - Next.js
preview: /assets/2023-10-20-next.js-commerceã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒ¡ãƒ¢.webp
---

## Next.js Commerce ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰

::link-card[https://github.com/vercel/commerce]

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿ãªãŒã‚‰Next.jsã®App Routerã§ã®ãŠä½œæ³•ãªã©ã‚’å­¦ã‚“ã§ã„ãã€‚

ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆ: https://demo.vercel.store/

## Edge Runtime

```typescript
export const runtime = 'edge'
```

`page.tsx` ãªã©ã§å¤§ä½“ã“ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã€‚`edge` ã ã¨é«˜é€Ÿã«ãªã‚‹ã‚‰ã—ã„ã€‚

ã“ã®ã‚µã‚¤ãƒˆã§è©¦ã—ãŸã‚‰ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã£ãŸã€‚Edge Runtimeã¯é«˜é€Ÿã«ã™ã‚‹ãŸã‚ã«ã€è‰²ã€…ã¨åˆ¶é™ãŒã‚ã‚‹ã‚‰ã—ã„ã€‚

å‚è€ƒ: [Rendering: Edge and Node.js Runtimes | Next.js](https://nextjs.org/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes)

## metadata

Metadataã®ç´°ã‹ã„ã¨ã“ã‚ã‚’è¦‹ã¦ã„ãã€‚

å‚è€ƒ: [Optimizing: Metadata | Next.js](https://nextjs.org/docs/app/building-your-application/optimizing/metadata)

### metadataã®title

```typescript
title: {
  default: SITE_NAME!,
  template: `%s | ${SITE_NAME}`
}
```

`title` ã® `template` ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ã€Œabout | SITE_NAMEã€ã®ã‚ˆã†ãªtitleã«ã§ãã‚‹ã€‚

### metadataã®robots

```typescript
robots: {
  follow: true,
  index: true
},
```

metaã‚¿ã‚°ã®robotsã‚’è¨­å®šã§ãã‚‹ã€‚ä¾‹ï¼‰`<meta name="robots" content="index, follow"/>`

å‚è€ƒ: [meta robotsã¨ã¯ï¼Ÿrobots.txtã®å½¹å‰²ã¨ä½¿ã„æ–¹](https://www.seohacks.net/blog/3482/)

## sitemap.xml

`app/sitemap.ts` ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ `https://example.com/sitemap.xml` ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚

å‚è€ƒ:

- [Metadata Files: sitemap.xml | Next.js](https://nextjs.org/docs/app/api-reference/file-conventions/metadata/sitemap)
- [commerce/app/sitemap.ts at main Â· vercel/commerce](https://github.com/vercel/commerce/blob/main/app/sitemap.ts)

## robots.txt

sitemap.xmlã¨åŒã˜ã `app/robots.ts` ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ `https://example.com/robots.txt` ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚

å‚è€ƒ:

- [Metadata Files: robots.txt | Next.js](https://nextjs.org/docs/app/api-reference/file-conventions/metadata/robots)
- [commerce/app/robots.ts at main Â· vercel/commerce](https://github.com/vercel/commerce/blob/main/app/robots.ts)

## package.jsonã‚’è¦‹ã¦ã¿ã‚‹

- @headlessui/react  
  [Headless UI - Unstyled, fully accessible UI components](https://headlessui.com/)  
- @heroicons/react  
  [Heroicons](https://heroicons.com/)  
- clsx  
  [lukeed/clsx: A tiny (228B) utility for constructing \`className\` strings conditionally.](https://github.com/lukeed/clsx)  
  ã‚¯ãƒ©ã‚¹åã®åŠ å·¥ã‚’è¡Œã†ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã€‚
- eslint-plugin-unicorn  
  [sindresorhus/eslint-plugin-unicorn: More than 100 powerful ESLint rules](https://github.com/sindresorhus/eslint-plugin-unicorn)  
  ESLintã®ãƒ«ãƒ¼ãƒ«ãŒã„ã£ã±ã„ã‚»ãƒƒãƒˆã«ãªã£ã¦ã„ã‚‹ã€‚
- lint-staged  
  [lint-staged/lint-staged: ğŸš«ğŸ’© â€” Run linters on git staged files](https://github.com/lint-staged/lint-staged)  
  ã‚³ãƒŸãƒƒãƒˆå‰ã«Lintã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€‚
- @vercel/git-hooks  
  [vercel/git-hooks: No nonsense Git hook management](https://github.com/vercel/git-hooks)  
  Gitã®hookã®ç®¡ç†ã‚’ç°¡å˜ã«ã™ã‚‹ã€‚
