---
draft: false
emoji: ğŸ“–
title: Next.jsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ESLintãƒ»Prettierã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
slug: setup-nextjs-eslint-prettier
published_at: 2023-10-01 17:11:23
modified_at: 2023-10-22 15:31:32
tags:
  - Next.js
preview: /assets/2023-10-01-Next.jsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ESLintãƒ»Prettierã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—.webp
---

## ã“ã®è¨˜äº‹ã®æ¦‚è¦

App Routerã‚’ä½¿ç”¨ã™ã‚‹Next.jsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ãã®å¾Œã®é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ã®æ‰‹é †ã‚’è¨˜éŒ²ã—ãŸè¨˜äº‹ã§ã™ã€‚ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é–¢ã‚ã‚‰ãšå…±é€šã—ã¦å¿…è¦ã¨ãªã‚‹ã‚ˆã†ãªå†…å®¹ã‚’ä¸­å¿ƒã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«Tailwind CSSã‚’ä½¿ç”¨ã—ãŸå†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚

ä»¥ä¸‹ã®ç’°å¢ƒã§ã®ä½œæ¥­ã‚’å…ƒã«ä½œæˆã—ãŸè¨˜äº‹ã§ã™:

- macOS 13.5.1
- Node 18.18.0
- pnpm 8.7.6
- Next.js 13.4.19
- Tailwind CSS 3.3.3

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash:Terminal
pnpx create-next-app@latest
```

ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- srcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚éšå±¤ãŒæ·±ããªã‚‹ã®ãŒå«Œãªå ´åˆã¯ä½œæˆã—ãªãã¦ã‚‚è‰¯ã„ã§ã™ã€‚
- Import aliasã‚’è¨­å®šã—ã¦ `import * from '@/hoge'` ã®ã‚ˆã†ã«ç‹¬è‡ªã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

```bash:Terminal
Need to install the following packages:
create-next-app@13.4.19
Ok to proceed? (y)
âœ” What is your project named? â€¦ blog
âœ” Would you like to use TypeScript? â€¦ Yes
âœ” Would you like to use ESLint? â€¦ Yes
âœ” Would you like to use Tailwind CSS? â€¦ Yes
âœ” Would you like to use `src/` directory? â€¦ Yes
âœ” Would you like to use App Router? (recommended) â€¦ Yes
âœ” Would you like to customize the default import alias? â€¦ Yes
âœ” What import alias would you like configured? â€¦ @/*
Creating a new Next.js app in /your/path/blog
```

## ã„ãã¤ã‹ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’devDependenciesã«ç§»å‹•

ä¸Šè¨˜ã®æ–¹æ³•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¨ã¦dependenciesã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚

[Next.jsã‚’ä½¿ã†å ´åˆã¯è‰¯ã—ãªã«æœ€é©åŒ–ã—ã¦ãã‚Œã‚‹](https://stackoverflow.com/questions/74371000/next-js-13-devdependencies)ã®ã§ãã®ã¾ã¾ã§ã‚‚è‰¯ã„ã®ã§ã™ãŒã€å€‹äººçš„ã«ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç”¨ã¨é–‹ç™ºç”¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åŒºåˆ¥ã—ãŸã„ã®ã§ç§»å‹•ã—ã¦ãŠãã¾ã™ã€‚ç§»å‹•ã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash:Terminal
pnpm add -D -E @types/node @types/react @types/react-dom autoprefixer tailwindcss postcss eslint eslint-config-next typescript
```

## ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãŸã‚ã®è¨­å®š

`pnpm format` ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®Typescriptã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«Prettierã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash:Terminal
pnpm add -D -E prettier eslint-config-prettier
```

ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§[Prettier](https://prettier.io/)ã¨[eslint-config-prettier](https://github.com/prettier/eslint-config-prettier)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

ç¶šã‘ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å„ç¨®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ãƒ»ä½œæˆã—ã¦ã„ãã¾ã™ã€‚

### package.jsonã‚’ä¿®æ­£

ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹ã“ã¨ã§ `pnpm format` ã¨å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```json:package.json
"scripts": {
  "lint:fix": "next lint --fix",
  "prettier": "prettier --write '{src,test}/**/{*.ts,*.tsx}'",
  "format": "pnpm prettier && pnpm lint:fix"
}
```

### .eslintrc.jsonã‚’ä¿®æ­£

eslint-config-prettierã‚’ESLintã®è¨­å®šã«è¿½åŠ ã—ã¦æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

```json:.eslintrc.json
{
  "extends": ["next/core-web-vitals", "prettier"]
}
```

### .prettierrc.ymlã‚’ä½œæˆ

Prettierã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```yaml:.prettierrc.yml
trailingComma: 'es5'
tabWidth: 2
semi: false
singleQuote: true
jsxSingleQuote: true
printWidth: 100
```

### .editorconfigã‚’ä½œæˆ

`.ts` ã‚„ `.tsx` ä»¥å¤–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãŸã‚ã«ã€EditorConfigã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```ini:.editorconfig
root = true

[*]
charset = utf-8
indent_style = space
indent_size = 2
insert_final_newline = true
trim_trailing_whitespace = true

[*.md]
max_line_length = off
trim_trailing_whitespace = false
```

### .vscode/settings.jsonã®ä¿®æ­£

VS Codeã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ä¸‹è¨˜ã®ã‚ˆã†ã«è¿½è¨˜ã™ã‚‹ã“ã¨ã§ä¿å­˜æ™‚ã«è‡ªå‹•çš„ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚æ‹¡å¼µæ©Ÿèƒ½ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ã§ã™ï¼ˆå¾Œè¿°ï¼‰ã€‚

```json:.vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  }
}
```

## Typescriptã®importã‚’ç¶ºéº—ã«ã™ã‚‹ãŸã‚ã®è¨­å®š

```bash:Terminal
pnpm add -D -E eslint-plugin-import eslint-plugin-unused-imports
```

ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§ESLintã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚eslint-plugin-importã¨eslint-plugin-unused-importsã§ã™ã€‚

æ¬¡ã«ã€ä¸‹è¨˜ã®è¨­å®šã‚’.eslintrc.jsonã«è¿½è¨˜ã™ã‚‹ã“ã¨ã§ã€importã‚’ä¸¦ã³æ›¿ãˆãŸã‚Šæœªä½¿ç”¨ã®importã‚’å‰Šé™¤ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã¾ãŸã€`no-restricted-imports` ã§ `import xxx from '../../xxx'` ã®ã‚ˆã†ãªç›¸å¯¾ãƒ‘ã‚¹ã§è¦ªã®éšå±¤ã‹ã‚‰ã®importã‚’ç¦æ­¢ã™ã‚‹ã‚ˆã†ãªè¨­å®šã‚‚è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

```json:.eslintrc.json
{
  // ...
  "plugins": ["import", "unused-imports"],
  "rules": {
    "unused-imports/no-unused-imports": "error",
    "import/order": [
      "error",
      {
        "groups": [
          "builtin",
          "external",
          "internal",
          ["parent", "sibling"],
          "object",
          "type",
          "index"
        ],
        "newlines-between": "always",
        "alphabetize": { "order": "asc", "caseInsensitive": true }
      }
    ],
    "no-restricted-imports": ["error", { "patterns": ["../"] }]
  }
  // ...
}
```

## ESLintã®ã‚»ãƒŸã‚³ãƒ­ãƒ³ã«é–¢ã™ã‚‹è¨­å®š

Typescriptã®ã‚³ãƒ¼ãƒ‰ã§ã‚»ãƒŸã‚³ãƒ­ãƒ³ã‚’çœç•¥ã™ã‚‹ãŸã‚ã®è¨­å®šã§ã™ã€‚.eslintrc.jsonã® `rules` ã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```json:.eslintrc.json
"rules": {
  "semi": ["error", "never", { "beforeStatementContinuationChars": "never" }],
  "semi-spacing": ["error", { "after": true, "before": false }],
  "semi-style": ["error", "first"],
  "no-extra-semi": "error",
  "no-unexpected-multiline": "error",
  "no-unreachable": "error"
}
```

## Tailwind CSSã®ãŸã‚ã®ESLintã®è¨­å®š

[eslint-plugin-tailwindcss](https://github.com/francoismassart/eslint-plugin-tailwindcss)ã‚’ä½¿ã£ã¦ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚

- Tailwind CSSã®ã‚¯ãƒ©ã‚¹åã‚’ç‰¹å®šã®é †åºã«è‡ªå‹•çš„ã«ä¸¦ã¹æ›¿ãˆã¾ã™ã€‚
- å­˜åœ¨ã—ãªã„ã€ã¾ãŸã¯é–“é•ã£ãŸTailwind CSSã®ã‚¯ãƒ©ã‚¹åã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ãã‚Œã‚’è‡ªå‹•çš„ã«è­¦å‘Šã¾ãŸã¯ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ¤œå‡ºã—ã¾ã™ã€‚
- é‡è¤‡ã—ã¦ã„ã‚‹ã€ã¾ãŸã¯äº’ã„ã«æ‰“ã¡æ¶ˆã—åˆã†ã‚ˆã†ãªã‚¯ãƒ©ã‚¹åãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ãã‚Œã‚’æ¤œå‡ºã—ã¾ã™ã€‚

### eslint-plugin-tailwindcss ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash:Terminal
pnpm add -D -E eslint-plugin-tailwindcss
```

```json:.eslintrc.json
{
  "extends": ["next/core-web-vitals", "prettier", "plugin:tailwindcss/recommended"],
}
```

ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œå¾Œã€`.eslintrc.json` ã® `extends` ã« `plugin:tailwindcss/recommended` ã‚’è¿½è¨˜ã—ã¾ã™ã€‚

## VS Codeã®æ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

- [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)  
  ESLintã®ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
- [Prettier - Code formatter](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)  
  Prettierã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
- [Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss)  
  Tailwind CSSã®ã‚¯ãƒ©ã‚¹åã®è‡ªå‹•è£œå®Œãªã©ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash:Terminal
code --install-extension dbaeumer.vscode-eslint
code --install-extension esbenp.prettier-vscode
code --install-extension bradlc.vscode-tailwindcss
```
