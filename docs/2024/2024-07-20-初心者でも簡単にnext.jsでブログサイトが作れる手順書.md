---
draft: false
emoji: ğŸ¹
title: åˆå¿ƒè€…ã§ã‚‚ç°¡å˜ã«Next.jsã§ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆãŒä½œã‚Œã‚‹æ‰‹é †æ›¸
slug: step-by-step-instructions-for-beginners-to-build-a-blog-site-in-next-js
published_at: 2024-07-20 01:12:22
modified_at: 2024-07-20 01:12:22
tags:
  - Next.js
  - Hacker Sheet
preview: null
type: default
---

## ã¯ã˜ã‚ã«

ç­†è€…ã®ä½œæˆã—ãŸWebã‚µãƒ¼ãƒ“ã‚¹ã®[Hacker Sheet](https://hackersheet.com)ã‚’ä½¿ã£ã¦Next.jsã§ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹é †ã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚èˆˆå‘³ã®ã‚ã‚‹æ–¹ã®ã¿èª­ã¿é€²ã‚ã¦ãã ã•ã„ã€‚

> [!IMPORTANT]
> ã“ã®è¨˜äº‹ã§ã¯ä»¥ä¸‹ã®ç’°å¢ƒã§ã®æ‰‹é †ã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚ä»–ã®ç’°å¢ƒã®å ´åˆã¯ã‚³ãƒãƒ³ãƒ‰ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãªã©ã‚’èª­ã¿æ›¿ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
>
> - macOS
> - pnpm
> - VS Code

åŸºæœ¬çš„ã«ã€Œè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’ãã®ã¾ã¾å®Ÿè¡Œã—ã¦ã„ãã“ã¨ã§ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆã®æ§‹ç¯‰ãŒå®Œäº†ã™ã‚‹ã€ã¨ã„ã†å†…å®¹ã®æ‰‹é †æ›¸ã§ã™ã€‚æ–°ã—ãä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å°‘ãªãã€å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä¿å­˜ã™ã‚‹ã ã‘ã«ãªã£ã¦ã„ã‚‹ã®ã§åˆå¿ƒè€…ã§ã‚‚ç°¡å˜ã«é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä»Šå›ã¯ã¨ã‚Šã‚ãˆãšå‹•ãã‚‚ã®ã‚’ä½œã£ã¦ã¿ã‚‹ã“ã¨ãŒä¸»é¡Œãªã®ã§ç´°ã‹ã„è§£èª¬ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚`@hackersheet/*` ã®ã‚ˆã†ãªç‹¬è‡ªã®npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä½¿ã„æ–¹ãªã©ã®è©³ç´°ã¯åˆ¥ã®è¨˜äº‹ã‚’ä½œæˆäºˆå®šã§ã™ã€‚

> [!CAUTION]
> ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã—ã¦ã„ã‚‹npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ `@hackersheet/*` ã¯alphaç‰ˆã§ã™ã€‚æœ¬ç•ªç’°å¢ƒã§ã®ã”åˆ©ç”¨ã«ã¯ã”æ³¨æ„ãã ã•ã„ï¼ˆ2024/07/20æ™‚ç‚¹ï¼‰ã€‚

## Node.js v20ã¨pnpmç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ã¾ãšã¯ã€pnpmãŒä½¿ç”¨ã§ãã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚

```sh:Terminal
pnpm -v # `9.5.0` ã®ã‚ˆã†ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ä½¿ç”¨å¯èƒ½ã§ã™
```

Node.jsã€pnpmãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚è€ƒã«Node.jsã¨pnpmã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’ã—ã¾ã™ã€‚

[Voltaã§ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«Node.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚ˆã†(macOS)](2024-07-19-voltaã§ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«node.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚ˆã†.md)

## Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ

Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ç°¡å˜ã«ä½œæˆã§ãã¾ã™ã€‚ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦å®Ÿè¡Œã—ã¾ã™ã€‚

```sh:Terminal
pnpm create next-app my-blog --ts --tailwind --eslint --app --src-dir --import-alias '@/*'
```

å®Ÿè¡Œå¾Œã«npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒé–‹å§‹ã—ã¾ã™ã€‚ã—ã°ã‚‰ãå¾…ã¡ã¾ã™ã€‚

å„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ç°¡å˜ãªèª¬æ˜ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚ã‚ˆã‚Šè©³ã—ãçŸ¥ã‚ŠãŸã„æ–¹ã¯[Next.jsã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nextjs.org/docs/pages/api-reference/create-next-app)ã‚’ã”è¦§ãã ã•ã„ã€‚

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³             | èª¬æ˜                                                     |
| ---------------------- | -------------------------------------------------------- |
| `my-blog`              | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã§ã™ã€‚åŒã˜åå‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã¾ã™ |
| `--ts`                 | TypeScripã‚’ä½¿ç”¨ã—ã¾ã™                                    |
| `--tailwind`           | Tailwind CSSã‚’ä½¿ç”¨ã—ã¾ã™                                 |
| `--eslint`             | ESLintã‚’ä½¿ç”¨ã—ã¾ã™                                       |
| `--app`                | App Routerã‚’ä½¿ç”¨ã—ã¾ã™                                   |
| `--src-dir`            | `src/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™                          |
| `--import-alias '@/*'` | Import aliasã‚’ `@/*` ã«è¨­å®šã—ã¾ã™                        |

`Success! Created my-blog at /path/to/my-blog` ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ä½œæˆå®Œäº†ã§ã™ã€‚æ¬¡ã®æ‰‹é †ã«é€²ã¿ã¾ã™ã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’VS Codeã§é–‹ã

```sh:Terminal
code my-blog
```

ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦VS Codeã‚’é–‹ãã¾ã™ã€‚

> [!TIP]
> VS Codeã‚’é–‹ã„ã¦ `control` + `~` ã‚’æŠ¼ã™ã¨VS Codeã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ãã“ã¨ãŒã§ãã¾ã™ã€‚ä»¥é™ã®ã‚³ãƒãƒ³ãƒ‰ã¯VS Codeã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

## npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

```sh:Terminal
pnpm update
```

ã¾ãšã€ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã™ã€‚

> WARNâ€‰ 5 deprecated subdependencies found: @humanwhocodes/config-array@0.11.14, @humanwhocodes/object-schema@2.0.3, glob@7.2.3, inflight@1.0.6, rimraf@3.0.2

ã®ã‚ˆã†ãªãƒ¯ãƒ¼ãƒ‹ãƒ³ã‚°ãŒå‡ºã¾ã™ãŒæ°—ã«ã›ãšé€²ã‚ã¾ã™ï¼ˆ**2024/07/20æ™‚ç‚¹**ï¼‰ã€‚

`control` + `shift` + `G` ã‚’æŠ¼ã™ã¨ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ã€Œã‚½ãƒ¼ã‚¹ç®¡ç†ã€ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚æ¬¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤‰æ›´ã•ã‚Œã¦ã„ã¾ã™ã€‚

- package.json
- pnpm-lock.yaml

æ‰‹é †æ¯ã«ã€Œwipã€ãªã©ã®é©å½“ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠãã¨å¤‰æ›´ç‚¹ãŒã‚ã‹ã‚Šã‚„ã™ããªã‚‹ã®ã§ã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ã€‚

## ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

ã“ã®æ™‚ç‚¹ã§é–“é•ã„ãŒãªã„ã‹ç¢ºèªã™ã‚‹ãŸã‚ã«ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒèµ·å‹•ã§ãã‚‹ã‹ã©ã†ã‹ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```sh:Terminal
pnpm dev
```

ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œå¾Œã«http://localhost:3000 ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã„ã¦ã€ä¸‹è¨˜ã®ç”»åƒã®ã‚ˆã†ãªNext.jsã®ã‚µãƒ³ãƒ—ãƒ«ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ã€‚

![Next.jsã‚µãƒ³ãƒ—ãƒ«ãƒšãƒ¼ã‚¸](/assets/2024-07-20-åˆå¿ƒè€…ã§ã‚‚ç°¡å˜ã«next.jsã§ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆãŒä½œã‚Œã‚‹æ‰‹é †æ›¸/Next.jsã‚µãƒ³ãƒ—ãƒ«ãƒšãƒ¼ã‚¸.jpg)

ç¢ºèªã§ããŸã‚‰ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ `control` + `C`ã‚’æŠ¼ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’åœæ­¢ã—ã¾ã™ã€‚

## npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ 

- @hackersheet/core
- @hackersheet/next-document-content-components
- @hackersheet/next-document-content-kifu
- @hackersheet/react-document-content
- @hackersheet/react-document-content-styles
- katex

ä»Šå›ä½¿ç”¨ã™ã‚‹ã“ã‚Œã‚‰ã®npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ã¾ã¨ã‚ã¦è¿½åŠ ã—ã¾ã™ã€‚

```sh:Terminal
pnpm add @hackersheet/core@alpha @hackersheet/next-document-content-components@alpha @hackersheet/next-document-content-kifu@alpha @hackersheet/react-document-content@alpha @hackersheet/react-document-content-styles@alpha katex
```

å®Ÿè¡Œå¾Œã«æ–°ã—ãä»¥ä¸‹ã®WARNãŒè¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€å‹•ä½œã«å½±éŸ¿ã¯ãªã„ã®ã§ç„¡è¦–ã—ã¦é€²ã‚ã¾ã™ï¼ˆ**2024/07/20æ™‚ç‚¹**ï¼‰ã€‚

```sh:å®Ÿè¡Œå¾Œã®WARN
WARN Issues with peer dependencies found
.
â””â”€â”¬ @hackersheet/next-document-content-kifu 0.1.0-alpha.2
  â””â”€â”¬ kifu-for-js 5.4.1
    â”œâ”€â”€ âœ• unmet peer react@^16.14.0: found 18.3.1
    â”œâ”€â”€ âœ• unmet peer react-dom@^16.14.0: found 18.3.1
    â””â”€â”¬ mobx-react 6.3.1
      â”œâ”€â”€ âœ• unmet peer react@"^16.8.0 || 16.9.0-alpha.0": found 18.3.1
      â””â”€â”¬ mobx-react-lite 2.2.2
        â””â”€â”€ âœ• unmet peer react@^16.8.0: found 18.3.1
```

`control` + `shift` + `G` ã§ã€Œã‚½ãƒ¼ã‚¹ç®¡ç†ã€ã‚’é–‹ãã¾ã™ã€‚æ¬¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤‰æ›´ã•ã‚Œã¦ã„ã¾ã™ã€‚

- package.json

  ```json:package.json
  // ...
  "dependencies": {
    "@hackersheet/core": "0.1.0-alpha.4", // [!code ++]
    "@hackersheet/next-document-content-components": "0.1.0-alpha.5", // [!code ++]
    "@hackersheet/next-document-content-kifu": "0.1.0-alpha.1", // [!code ++]
    "@hackersheet/react-document-content": "0.1.0-alpha.5", // [!code ++]
    "@hackersheet/react-document-content-styles": "0.1.0-alpha.4", // [!code ++]
    "katex": "^0.16.11", // [!code ++]
    "next": "14.2.5",
    "react": "^18.3.1",
    "react-dom": "^18.3.1"
  },
  // ...
  ```

- pnpm-lock.yaml

å¤‰æ›´ã‚’ç¢ºèªã—ã¦ã‚³ãƒŸãƒƒãƒˆã—ã¾ã™ã€‚

## shadcn/uiã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®[shadcn/ui](https://ui.shadcn.com/)ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’è¡Œã„ã¾ã™ã€‚

```sh:Terminal
pnpm dlx shadcn-ui@latest init --yes
```

ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨å¯¾è©±å½¢å¼ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒé–‹å§‹ã—ã¾ã™ã€‚æ¬¡ã®ã‚ˆã†ã«é€²ã‚ã¦ã„ãã¾ã™ã€‚

- Which style would you like to use?

  **Default**

- Which color would you like to use as base color?

  **Slate**

- Would you like to use CSS variables for colors?

  **yes**

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã™ã‚‹ã¨ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆãƒ»å¤‰æ›´ã•ã‚Œã¾ã™(æœ«å°¾ã®\*ã¯æ–°è¦ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¤ºã—ã¦ã„ã¾ã™)ã€‚

- components.json \*
- package.json
- pnpm-lock.yaml
- tailwind.config.ts
- src/app/globals.css
- src/lib/utils.ts \*

å¤‰æ›´ã‚’ç¢ºèªã—ã¦ã‚³ãƒŸãƒƒãƒˆã—ã¾ã™ã€‚

## ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.development.local` ã‚’ä½œæˆã—ã¦ä»¥ä¸‹ã®å†…å®¹ã§ä¿å­˜ã—ã¾ã™ã€‚

```ini:.env.development.local
HACKERSHEET_API_ENDPOINT=https://api.hackersheet.com/example/v1/graphql
HACKERSHEET_API_ACCESS_KEY=hsws_TVZ6MjdnMUNrWXdyRjZ5SEZSOFp3OWVXS0ZiR3lHSFE6akdzVzQ5WlRhc0RwRm1ZWGRpZWl5aHZpM2ZtSlhSOG42ZExEbWZMQXd1c2dwdXZ0
```

## next.config.mjsã®å¤‰æ›´

```javascript:next.config.mjs
/** @type {import('next').NextConfig} */
const nextConfig = {
  images: { // [!code ++]
    formats: ["image/webp"], // [!code ++]
    remotePatterns: [ // [!code ++]
      { // [!code ++]
        protocol: "https", // [!code ++]
        hostname: "public-content.hackersheet.com", // [!code ++]
        pathname: "/**", // [!code ++]
      } // [!code ++]
    ], // [!code ++]
  }, // [!code ++]
};

export default nextConfig;
```

## src/app/globals.cssã®å¤‰æ›´

`src/app/globals.css` ã‚’å¤‰æ›´ã—ã¾ã™ã€‚

ä»¥ä¸‹ã® `/* ã“ã“ã‹ã‚‰ä¸‹ã®éƒ¨åˆ†ã‚’è¿½åŠ  */` ã‚ˆã‚Šä¸‹ã«ã‚ã‚‹å†…å®¹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```css:globals.css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* ... */
  /* ... */
  /* ... */
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ã“ã“ã‹ã‚‰ä¸‹ã®éƒ¨åˆ†ã‚’è¿½åŠ  */
@layer base {
  :root {
    --hsdc-scroll-margin-top: 0px;
    --hsdc-font-code: monospace, sans-serif;
    --hsdc-border: var(--border);
    --hsdc-muted: var(--muted);
    --hsdc-muted-foreground: var(--muted-foreground);
    --hsdc-link: var(--primary);
    --hsdc-code-block: var(--muted);
    --hsdc-shiki-diff-add: 160 84% 39%;
    --hsdc-shiki-diff-remove: 350 89% 60%;
    --hsdc-shiki-highlighted-word: 60 100% 50%;
  }

  :root {
    --github-alert-default-color: rgb(208, 215, 222);
    --github-alert-note-color: rgb(9, 105, 218);
    --github-alert-tip-color: rgb(26, 127, 55);
    --github-alert-important-color: rgb(130, 80, 223);
    --github-alert-warning-color: rgb(191, 135, 0);
    --github-alert-caution-color: rgb(207, 34, 46);

    .dark {
      --github-alert-default-color: rgb(48, 54, 61);
      --github-alert-note-color: rgb(31, 111, 235);
      --github-alert-tip-color: rgb(35, 134, 54);
      --github-alert-important-color: rgb(137, 87, 229);
      --github-alert-warning-color: rgb(158, 106, 3);
      --github-alert-caution-color: rgb(248, 81, 73);
    }
  }
}
```

## src/lib/hackersheet/client.tsã‚’ä½œæˆ

```sh:Terminal
mkdir -p src/lib/hackersheet/ && touch src/lib/hackersheet/client.ts
```

ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ä¸‹è¨˜ã®å†…å®¹ã§ä¿å­˜ã—ã¾ã™ã€‚

```typescript:src/lib/hackersheet/client.ts
import { createClient } from '@hackersheet/core'
import { cache } from 'react'

const client = cache(() =>
  createClient({
    url: process.env.HACKERSHEET_API_ENDPOINT!,
    accessKey: process.env.HACKERSHEET_API_ACCESS_KEY!,
  })
)()

export { client }
```

## src/app ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´

- src/app/layout.tsx
- src/app/page.tsx

`src/app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã€ã“ã‚Œã‚‰ã®2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ã¾ã™ã€‚ä»¥ä¸‹ã®å†…å®¹ã«ãã®ã¾ã¾ç½®ãæ›ãˆã¾ã™ã€‚

### src/app/layout.tsx

```tsx:src/app/layout.tsx
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import Link from "next/link"; // [!code ++]

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <header className="mx-auto max-w-screen-sm"> // [!code ++]
          <div className="text-lg py-10"><Link href="/">my blog</Link></div> // [!code ++]
        </header> // [!code ++]

        {children}
      </body>
    </html>
  );
}
```

### src/app/page.tsx

Next.jpã‚µãƒ³ãƒ—ãƒ«ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ¼ãƒ‰ã‚’ç½®ãæ›ãˆã‚‹ã®ã§å·®åˆ†ãŒå¤šã„ã§ã™ã€‚

```tsx:src/app/page.tsx
import { client } from "@/lib/hackersheet/client";
import Link from "next/link";

export default async function Home() {
  const { documents } = await client.getDocuments();

  return (
    <main className="mx-auto max-w-screen-sm">
      <ul className="list-disc">
        {documents &&
          documents.map((document) => (
            <li key={document.id} className="my-2">
              <Link href={`/posts/${document.slug}`}>{document.title}</Link>
            </li>
          ))}
      </ul>
    </main>
  );
}
```

## src/app/posts/[documentSlug]/page.tsx ä½œæˆ

```sh:Terminal
mkdir -p 'src/app/posts/[documentSlug]/' && touch 'src/app/posts/[documentSlug]/page.tsx'
```

`src/app/posts/[documentSlug]/page.tsx` ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®å†…å®¹ã§ä¿å­˜ã—ã¾ã™ã€‚

```tsx:src/app/posts/[documentSlug]/page.tsx
import { client } from "@/lib/hackersheet/client";
import {
  CodeBlock,
  Image,
  Link,
  LinkCard,
  Mermaid,
  XPost,
  Youtube,
} from "@hackersheet/next-document-content-components";
import { Kifu, KifuTo } from "@hackersheet/next-document-content-kifu";
import { notFound } from "next/navigation";
import { DocumentContent } from "@hackersheet/react-document-content";
import documentContentStyle from "@hackersheet/react-document-content-styles/basic";

import "katex/dist/katex.min.css";

export default async function PostPage({
  params: { documentSlug },
}: {
  params: { documentSlug: string };
}) {
  const { document } = await client.getDocument({ slug: documentSlug });

  if (!document) notFound();

  return (
    <main className="mx-auto max-w-screen-sm">
      <h1 className="text-xl pt-10 pb-20">{document.title}</h1>

      <DocumentContent
        document={document}
        style={documentContentStyle}
        permaLinkFormat="/posts/{{slug}}"
        components={{
          codeBlock: CodeBlock,
          image: Image,
          kifu: Kifu,
          kifuTo: KifuTo,
          link: Link,
          linkCard: LinkCard,
          mermaid: Mermaid,
          xPost: XPost,
          youtube: Youtube,
        }}
      />
    </main>
  );
}
```

## æœ€å¾Œã«ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```sh:Terminal
pnpm dev
```

ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ http://localhost:3000 ã‚’ç¢ºèªã—ã¾ã™ã€‚

![my blog](/assets/2024-07-20-åˆå¿ƒè€…ã§ã‚‚ç°¡å˜ã«next.jsã§ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆãŒä½œã‚Œã‚‹æ‰‹é †æ›¸/my-blog.jpg)

ã“ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ãƒªã‚¹ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å€‹åˆ¥ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™ã€‚å€‹åˆ¥ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ã€‚

ä»¥ä¸Šã§ã™ã¹ã¦ã®æ‰‹é †å®Œäº†ã§ã™ã€‚
