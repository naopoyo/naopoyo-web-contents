---
draft: true
emoji: 🛗
title: Rubocop個人的まとめ
slug: rubocop-notes
published_at: 2025-10-21 23:57:11
modified_at: 2025-10-21 23:57:11
tags:
  - Ruby
  - Rubocop
preview: null
---

## Memo

- rubocop-rails-omakase はかなりの量の Cop が無効化されている

## コマンド

```sh:Terminal
bundle exec rubocop
```

## コマンドのオプション

| オプション               | 説明                                                 |
| ------------------------ | ---------------------------------------------------- |
| -a, --auto-correct       | 自動修正を実行する                                   |
| -A, --auto-correct-all   | 危険な修正も含めてすべて自動修正する                 |
| -f, --format <FORMATTER> | 出力フォーマッタを指定                               |
| --auto-gen-config        | 現在の違反を基に .rubocop_todo.yml を生成する        |
| --only <COP1,COP2,...>   | 指定した Cop のみ実行する                            |
| --except <COP1,COP2,...> | 指定した Cop を除外して実行する                      |
| --parallel               | 複数プロセスで並列実行して高速化する                 |
| --config <FILE>          | 指定した設定ファイルを使用する                       |
| --display-cop-names      | 違反メッセージに Cop 名を表示する                    |
| --show-cops <COP>        | Cop の詳細を表示する                                 |
| --require <LIB>          | 追加のライブラリ/プラグインを読み込む                |
| --fail-level <severity>  | 指定した重大度以上の違反で終了ステータスを失敗にする |

## 違反を一時的に無効化・除外する　`.rubocop_todo.yml`

.rubocop_todo.yml は、現在のコードベースで検出された RuboCop の違反（Cop）を一時的に無効化・除外するために --auto-gen-config オプションで自動生成される設定ファイル。

```sh:Terminal
bundle exec rubocop --auto-gen-config
```

## おすすめプラグイン

1. Gemfile 定義後に `bundle install`
2. `.rubocop.yml` に設定を追加

```ruby:Gemfile
group :development do
  # ...
  gem 'rubocop-rails', require: false
  gem 'rubocop-performance', require: false
  gem 'rubocop-rubycw', require: false
  gem 'rubocop-rspec', require: false
  # ...
end
```

```yaml:.rubocop.yml
# ...
plugins:
  - rubocop-rails
  - rubocop-performance
  - rubocop-rspec
  - rubocop-rubycw
# ...
AllCops:
  TargetRailsVersion: 8.0
```

## ブックマーク

::link-card[https://zenn.dev/nakashio/articles/a1506bdbf10e62]

::link-card[https://zenn.dev/skakimoto/articles/2025-02-24-starting-rubocop-with-rubocop-omakase]

::link-card[https://zenn.dev/joji_imamura/articles/135921e29cbb05]

::link-card[https://product.st.inc/entry/2020/10/23/111200]
