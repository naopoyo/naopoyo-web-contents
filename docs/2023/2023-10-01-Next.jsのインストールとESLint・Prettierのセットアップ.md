---
draft: false
emoji: ğŸ“–
title: Next.jsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ESLintãƒ»Prettierã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
slug: setup-nextjs-eslint-prettier
published_at: 2023-10-01 17:11:23
modified_at: 2025-10-26 17:31:56
tags:
  - Next.js
preview: /assets/2023-10-01-Next.jsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ESLintãƒ»Prettierã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—.webp
---

## ã“ã®è¨˜äº‹ã®æ¦‚è¦

App Routerã‚’ä½¿ã†Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã‚’ã¾ã¨ã‚ãŸè¨˜äº‹ã§ã™ã€‚ã‚¢ãƒ—ãƒªã®ç¨®é¡ã«ä¾ã‚‰ãšå…±é€šã—ã¦å½¹ç«‹ã¤é …ç›®ã‚’ä¸­å¿ƒã«è¨˜ã—ã¦ã„ã¾ã™ã€‚

- ESLintã®è¨­å®š
- Prettierã®è¨­å®š

Tailwind CSSã‚’ä½¿ã£ãŸæ§‹æˆã§èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚Tailwindã‚’ä½¿ã‚ãªã„å ´åˆã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚

ã“ã®è¨˜äº‹ã¯æ¬¡ã®ç’°å¢ƒã§ä½œæ¥­ã—ãŸå†…å®¹ã‚’å…ƒã«ã—ã¦ã„ã¾ã™:

- macOS 15.2
- Node 20.15.1
- pnpm 10.19.1
- Next.js 16.0.0
- Tailwind CSS 4.1.16

## Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ

æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§æ–°ã—ã„Next.jsã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã™ã€‚`my-app` ã¯ä»»æ„ã®åå‰ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

```bash:Terminal
npx create-next-app@latest my-app --ts --tailwind --eslint --app --turbopack --src-dir --import-alias '@/*' --use-pnpm --skip-install --react-compiler
```

ä½œæˆå¾Œã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç§»å‹•ã—ã¦ä¾å­˜ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:

```bash:Terminal
cd my-app
pnpm install
```

### create-next-app ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³             | èª¬æ˜                                                                |
| ---------------------- | ------------------------------------------------------------------- |
| `--ts`                 | TypeScript ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ï¼ˆ`tsconfig.json` ãªã©ã‚’è¿½åŠ ï¼‰ã€‚ |
| `--tailwind`           | Tailwind CSS ã®åˆæœŸè¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚                               |
| `--eslint`             | ESLint ã®åˆæœŸè¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚                                     |
| `--app`                | App Routerï¼ˆ`app/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰æ§‹æˆã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚   |
| `--turbopack`          | Turbopack ã‚’ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¨ã—ã¦æœ‰åŠ¹åŒ–ã—ã¾ã™ï¼ˆåˆ©ç”¨å¯èƒ½ãªå ´åˆï¼‰ã€‚        |
| `--src-dir`            | ã‚½ãƒ¼ã‚¹ã‚’ `src/` é…ä¸‹ã«é…ç½®ã™ã‚‹æ§‹æˆã«ã—ã¾ã™ã€‚                        |
| `--import-alias '@/*'` | `@/*` ã‚’ `src/*` ã«ãƒãƒƒãƒ—ã™ã‚‹ import ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚       |
| `--use-pnpm`           | `pnpm` ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã«é¸æŠã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚   |
| `--skip-install`       | ä¾å­˜ã®è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã¿ç”Ÿæˆã—ã¾ã™ã€‚      |
| `--react-compiler`     | React Compilerã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚                                      |

è©³ã—ãã¯[å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nextjs.org/docs/app/api-reference/cli/create-next-app#reference)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## .npmrc ã‚’è¨­ç½®

```text:.npmrc
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
```

pnpm v10ç³»ã§ã¯ã€ã“ã® `.npmrc` ãŒãªã„ã¨VS Code ã® ESLint æ‹¡å¼µãŒæ­£ã—ãå‹•ã‹ãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚

::link-card[https://zenn.dev/s_takashi/articles/vscode-pnpm-v10-eslint]

## npm å‘¨è¾ºãƒ„ãƒ¼ãƒ«ã®è¨­å®š

`npm-check-updates` ã‚„ `sort-package-json` ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã›ãšã«ä½¿ã†æ–¹æ³•ã§ã™ã€‚`package.json` ã«æ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã™ã‚‹ã¨ä¾¿åˆ©ã§ã™:

```json:package.json
"scripts": {
  "format:package": "NODE_OPTIONS='--no-warnings=ExperimentalWarning' pnpm dlx sort-package-json",
  "ncu": "pnpm dlx npm-check-updates"
}
```

ã“ã‚Œã§æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã¾ã™:

- `pnpm ncu` â€” `package.json` ã®ä¾å­˜ã‚’æœ€æ–°ã«æ›´æ–°ï¼ˆæ›¸ãæ›ãˆï¼‰
- `pnpm format:package` â€” `package.json` ã®é …ç›®ã‚’æ•´åˆ—

## ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãŸã‚ã®è¨­å®š

`pnpm format` ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãã‚‹ã‚ˆã†ã«ã€Prettier ã‚’é–‹ç™ºä¾å­˜ã¨ã—ã¦è¿½åŠ ã—ã¾ã™ã€‚

```bash:Terminal
pnpm add -D -E prettier eslint-config-prettier
```

ã“ã‚Œã§ [Prettier](https://prettier.io/) ã¨ [eslint-config-prettier](https://github.com/prettier/eslint-config-prettier) ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚ç¶šã‘ã¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆãƒ»ç·¨é›†ã—ã¾ã™ã€‚

### package.jsonã‚’ä¿®æ­£

ä¸‹è¨˜ã®ã‚ˆã†ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã™ã‚‹ã¨ã€`pnpm format` ã§æ•´å½¢ã¨ ESLint ã®è‡ªå‹•ä¿®æ­£ãŒå®Ÿè¡Œã§ãã¾ã™ã€‚

```json:package.json
"scripts": {
  "lint:fix": "eslint --fix",
  "prettier": "prettier --write --ignore-unknown .",
  "prettier:check": "prettier --check --ignore-unknown .",
  "format": "pnpm prettier && pnpm lint:fix"
}
```

### eslint.config.mjsã€€ã‚’ä¿®æ­£

`eslint-config-prettier` ã‚’ESLintè¨­å®šã«è¿½åŠ ã—ã¾ã™ã€‚

```js:eslint.config.mjs
// ...
import eslintConfigPrettier from "eslint-config-prettier";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  eslintConfigPrettier,
  // ...
]);
```

### .prettierrc.yamlã‚’ä½œæˆ

æ¬¡ã®ã‚ˆã†ãª Prettier è¨­å®šã‚’ç”¨æ„ã—ã¾ã™ã€‚

```yaml:.prettierrc.yaml
trailingComma: 'es5'
tabWidth: 2
semi: true
singleQuote: true
jsxSingleQuote: false
arrowParens: 'always'
printWidth: 100
```

### .prettierignoreã‚’ä½œæˆ

Prettierã®é©ç”¨ã‚’é™¤å¤–ã™ã‚‹ãŸã‚ã« `.prettierignore` ã‚’ç”¨æ„ã—ã¾ã™ã€‚

```none:.prettierignore
.vercel
.next
pnpm-lock.yaml
```

### .vscode/settings.jsonã®ä¿®æ­£

VS Code ã§ã¯æ¬¡ã®è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã¨ä¿å­˜æ™‚ã«è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ»è‡ªå‹•ä¿®æ­£ãŒå‹•ãã¾ã™ï¼ˆæ‹¡å¼µæ©Ÿèƒ½ãŒå¿…è¦ï¼‰ã€‚

```json:.vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "editor.tabSize": 2
}
```

## Typescriptã®importã‚’ç¶ºéº—ã«ã™ã‚‹ãŸã‚ã®è¨­å®š

```bash:Terminal
pnpm add -D -E eslint-plugin-import eslint-plugin-unused-imports
```

ã“ã‚Œã‚‰ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å°å…¥ã™ã‚‹ã¨ã€importã®ä¸¦ã³æ›¿ãˆã‚„æœªä½¿ç”¨importã®æ¤œå‡ºãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚`eslint.config.mjs` ã«æ¬¡ã®ã‚ˆã†ã«è¿½åŠ ã—ã¦ãã ã•ã„:

```js:eslint.config.mjs
import eslintPluginImport from 'eslint-plugin-import'
import eslintPluginUnusedImports from 'eslint-plugin-unused-imports'

// ...

const eslintConfig = [
  // ...
  {
    plugins: {
      import: eslintPluginImport,
      'unused-imports': eslintPluginUnusedImports,
    },
    rules: {
      'better-tailwindcss/no-unregistered-classes': ['error', { detectComponentClasses: true }],
      'unused-imports/no-unused-imports': 'error',
      'import/order': [
        'error',
        {
          groups: [
            'builtin',
            'external',
            'internal',
            ['parent', 'sibling'],
            'object',
            'type',
            'index',
          ],
          'newlines-between': 'always',
          alphabetize: { order: 'asc', caseInsensitive: true },
        },
      ],
    },
    settings: {
      'better-tailwindcss': {
        entryPoint: 'src/styles/globals.css',
      },
    },
  },
  // ...
]
```

## Tailwind CSSã®ãŸã‚ã®ESLintã®è¨­å®š

`eslint-plugin-better-tailwindcss` ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†ã¨ã€æ¬¡ã®ã‚ˆã†ãªæ©æµãŒã‚ã‚Šã¾ã™:

- Tailwindã‚¯ãƒ©ã‚¹ã®é †åºã‚’è‡ªå‹•ã§æ•´ãˆã‚‹
- å­˜åœ¨ã—ãªã„ã‚¯ãƒ©ã‚¹åã‚„èª¤ã£ãŸã‚¯ãƒ©ã‚¹åã‚’æ¤œå‡º
- é‡è¤‡ã‚„ç«¶åˆã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’æ¤œå‡º

### eslint-plugin-better-tailwindcss ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ä¾‹ã¨ã—ã¦ `eslint-plugin-better-tailwindcss` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€`eslint.config.mjs` ã«è¨­å®šã‚’è¿½åŠ ã™ã‚‹ä¾‹ã§ã™:

```bash:Terminal
pnpm add -D -E eslint-plugin-better-tailwindcss
```

```js:eslint.config.mjs
import eslintPluginBetterTailwindcss from 'eslint-plugin-better-tailwindcss'

// ...

const eslintConfig = [
  // ...
  {
    plugins: {
      'better-tailwindcss': eslintPluginBetterTailwindcss,
    },
    rules: {
      ...eslintPluginBetterTailwindcss.configs['recommended-error'].rules,
      'better-tailwindcss/no-unregistered-classes': ['error', { detectComponentClasses: true }],
    },
    settings: {
      'better-tailwindcss': {
        entryPoint: 'src/app/globals.css',
      },
    },
  },
  // ...
]
```

## VS Codeã®æ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

- [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)  
  ESLintã®ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
- [Prettier - Code formatter](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)  
  Prettierã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
- [Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss)  
  Tailwind CSSã®ã‚¯ãƒ©ã‚¹åã®è‡ªå‹•è£œå®Œãªã©ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰æ‹¡å¼µæ©Ÿèƒ½ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™:

```bash:Terminal
code --install-extension dbaeumer.vscode-eslint
code --install-extension esbenp.prettier-vscode
code --install-extension bradlc.vscode-tailwindcss
```
